*,
*::before,
*::after { box-sizing: border-box; }
html, body { height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:#0f172a; background:#fff; }

.back-button{ position:fixed; top:2rem; left:2rem; background:rgba(0,0,0,.6); color:#fff; padding:.5rem .85rem; border-radius:8px; text-decoration:none; font-size:clamp(.95rem,2.3vw,1rem); z-index:20; transition:background .25s; }
.back-button:hover{ background:rgba(0,0,0,.8); }

.screen{ position:relative; min-height:100vh; display:none; }
.screen-bubbles.show{ display:block; }
.screen-choices{ display:grid; grid-template-columns:1fr 1fr; position:relative; }
.screen-choices.show{ display:grid; }

/* Bubbles */
.screen-bubbles .bg{ position:absolute; inset:0; background:center/cover no-repeat url('mesh.png'); }
.screen-bubbles .overlay{ position:absolute; inset:0; background:rgba(255,255,255,.55); }
.screen-bubbles .inner{ position:relative; z-index:1; min-height:100vh; padding:2rem 1rem 7.5rem; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:1.25rem; }
.section-header{ text-align:center; padding:0 1rem; }
.section-header h1{ margin:0 0 .5rem; font-size:clamp(1.4rem,4.5vw,1.9rem); line-height:1.15; font-weight:800; }
.section-header p{ margin:0 auto; max-width:720px; font-size:clamp(.95rem,2.6vw,1rem); line-height:1.5; color:#1f2937; }

.bubble-container{ display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; max-width:820px; }
.bubble{ border:0; cursor:pointer; text-align:center; background:#dbeeff; color:#111827; padding:.9rem 1.1rem; border-radius:999px; min-width:120px; max-width:260px; font-weight:600; font-size:clamp(.95rem,2.6vw,1rem); transition:transform .2s, background-color .25s; }
.bubble:hover,.bubble:focus-visible{ transform:translateY(-1px); background:#cfe7ff; outline:none; }
.bubble-label{ display:block; }
.bubble-text{ display:none; margin-top:.55rem; font-size:clamp(.9rem,2.4vw,.95rem); color:#374151; line-height:1.4; }
.bubble.active{ border-radius:20px; text-align:left; max-width:100%; padding:1rem; background:#cfe1ff; }
.bubble.active .bubble-text{ display:block; }

.continue-btn{ position:fixed; left:50%; bottom:2rem; transform:translateX(-50%); background:#111827; color:#fff; border:none; cursor:pointer; padding:.7rem 1.1rem; border-radius:999px; font-weight:800; font-size:clamp(.95rem,2.6vw,1rem); z-index:12; transition:background .25s, transform .15s; }
.continue-btn:hover{ background:#0b1220; }
.continue-btn:active{ transform:translateX(-50%) translateY(1px); }

/* Choices & header/OR */
.screen-choices{ grid-template-columns:1fr 1fr; grid-template-rows:1fr; height:100vh; min-height:100vh; opacity:0; animation:choicesIn .4s ease forwards; }
@keyframes choicesIn{ to{ opacity:1; } }

.choices-header{ position:absolute; left:50%; top:clamp(1.25rem,5.5vh,4rem); transform:translateX(-50%); text-align:center; z-index:3; pointer-events:none; padding:0 1rem; opacity:0; animation:headerIn .5s ease .12s forwards; }
@keyframes headerIn{ to{ opacity:1; } }
.choices-question{ margin:0 0 clamp(.4rem,1.8vh,.9rem) 0; font-weight:900; font-size:clamp(2rem,6.5vw,3rem); line-height:1.1; color:#f2f6ff; text-shadow:0 2px 22px rgba(0,0,0,.55); }
.choices-or{ margin:0; font-weight:900; letter-spacing:.08em; font-size:clamp(1.05rem,4vw,1.4rem); color:#fff; opacity:.95; text-shadow:0 2px 18px rgba(0,0,0,.45); }

/* Panels */
.choice{ min-height:100%; position:relative; overflow:hidden; cursor:pointer; isolation:isolate; display:flex; align-items:center; justify-content:center; padding:2rem; text-align:center; transform:translateZ(0); transition:transform .25s; }
.choice:hover,.choice:focus-visible{ transform:scale(1.02); }

.choice-bg{ position:absolute; inset:0; background-size:cover; background-position:center; z-index:0; }
.choice-bg.fuzzy{ background-image:url('fuzzy.png'); }
.choice-bg.ceiling{ background-image:url('ceiling.png'); }

.choice-glow{ position:absolute; inset:0; background:rgba(255,255,255,0); z-index:1; transition:background .2s; }
.choice:hover .choice-glow,.choice:focus-visible .choice-glow{ background:rgba(255,255,255,.18); }

.choice-content{ position:relative; z-index:2; color:#fff; text-shadow:0 2px 16px rgba(0,0,0,.45); max-width:min(80%,720px); padding:0 1rem; opacity:0; transform:translateY(6px); animation:optionIn .45s ease .15s forwards; }
@keyframes optionIn{ to{ opacity:1; transform:translateY(0); } }

.choice-title{ margin:0; font-size:clamp(1.25rem,4.5vw,2.1rem); line-height:1.2; font-weight:900; color:#fff; transition:transform .2s; }
.choice:hover .choice-title,.choice:focus-visible .choice-title{ transform:scale(1.03); }

@media (max-width:800px){ .screen-choices{ grid-template-columns:1fr; grid-template-rows:1fr 1fr; height:100vh; } }
@media (min-height:700px){ .screen-choices{ padding-top:clamp(0px,2vh,24px); } }

.screen-fade{ position:fixed; inset:0; background:#000; opacity:0; pointer-events:none; z-index:30; transition:opacity .28s; }
.screen-fade.in{ opacity:1; pointer-events:auto; }

@media (max-width:480px){ .back-button{ top:1rem; left:1rem; } .continue-btn{ bottom:1rem; } }
/* --- CHOICES: fix centering + full bleed + no seam --- */

/* Make sure the canvas behind images is black, so even a subpixel gap isn't white */
html, body { background: #000; }

/* The choices view should not scroll and must clip any scaled content */
.screen-choices {
  position: relative;
  height: 100vh;
  min-height: 100vh;
  overflow: hidden;              /* kills white edges while hovering */
  background: #000;              /* safety net behind the images */
}

/* Each half really fills its column and viewport height */
.choice {
  min-height: 100vh;             /* full-bleed vertically */
  overflow: hidden;              /* hide any scale bleed */
  backface-visibility: hidden;   /* avoid subpixel seams on transforms */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Background image truly covers the half */
.choice-bg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  transform: translateZ(0);      /* engage GPU, reduce seams */
  will-change: transform;
}

/* If you still want the gentle hover, keep it tiny to avoid revealing the seam */
.choice:hover,
.choice:focus-visible {
  transform: scale(1.01);
}

/* Absolutely center the OR relative to the whole choices screen */
.screen-choices .choices-or {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);  /* true center */
  margin: 0;
  z-index: 4;
  pointer-events: none;
  font-weight: 900;
  letter-spacing: 0.08em;
  font-size: clamp(1.05rem, 4vw, 1.4rem);
  color: #ffffff;
  opacity: 0.95;
  text-shadow: 0 2px 18px rgba(0,0,0,.45);
}

/* Keep the question up top, centered (unchanged) */
.choices-header {
  position: absolute;
  left: 50%;
  top: clamp(1.25rem, 5.5vh, 4rem);
  transform: translateX(-50%);
  text-align: center;
  z-index: 4;
  pointer-events: none;
  padding: 0 1rem;
}

/* Optional: lay a 1px transparent overlay on the center to mask any subpixel seam */
.screen-choices::after {
  content: "";
  position: absolute;
  left: calc(50% - 0.5px);
  top: 0;
  width: 1px;
  height: 100%;
  background: rgba(0,0,0,0.02);  /* invisible, but prevents a white glint */
  pointer-events: none;
}

/* Mobile stacking still supported */
@media (max-width: 800px) {
  .screen-choices {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 1fr;
  }
  /* Center OR between stacked panels (halfway down) */
  .screen-choices .choices-or {
    top: 50%;
  }
}
